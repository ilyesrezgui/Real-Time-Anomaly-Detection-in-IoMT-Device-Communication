# -*- coding: utf-8 -*-
"""dataset_loader.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1WS00p-aZ-rYpX8x1NTHB6g7H5tTSlsn8
"""

import os
import pandas as pd

# Always detect the root of the repository, no matter where the script is run
BASE_PATH = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
print(f"ğŸ“ BASE_PATH detected as: {BASE_PATH}")



def load_splits(base_path):
    """
    Loads train, val, test CSV files from data/raw directory.
    Expected filenames: train.csv, val.csv, test.csv
    """

    print("ğŸ” load_splits() called...")
    print(f"â¡ Using BASE PATH: {base_path}")

    raw_path = os.path.join(base_path, "Dataset/raw")
    print(f"ğŸ“‚ Looking for CSV files inside: {raw_path}")

    # Check if files exist before loading
    for file in ["train.csv", "val.csv", "test.csv"]:
        full_path = os.path.join(raw_path, file)
        print(f"   - Checking: {full_path}  â†’ {'FOUND' if os.path.exists(full_path) else 'NOT FOUND'}")

    # Load CSVs
    train = pd.read_csv(os.path.join(raw_path, "train.csv"))
    val   = pd.read_csv(os.path.join(raw_path, "val.csv"))
    test  = pd.read_csv(os.path.join(raw_path, "test.csv"))

    print("âœ… CSV files loaded successfully!")
    print(f"ğŸ“ Train shape: {train.shape}")
    print(f"ğŸ“ Val shape:   {val.shape}")
    print(f"ğŸ“ Test shape:  {test.shape}")

    return train, val, test


if __name__ == "__main__":
    train, val, test = load_splits(BASE_PATH)
